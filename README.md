# GotKiCry ACL Rule SingBox

此仓库是一个自动化的 SingBox 规则编译与配置生成系统。它不直接维护规则源文件，而是从上游同步、编译并发布。

## 🌟 核心功能

1.  **自动同步**: 定期从 [GotKiCry/GotKiCry_ACL_Rule](https://github.com/GotKiCry/GotKiCry_ACL_Rule) 同步基础配置 (`ACL4SSR_Online_Full_WithIcon.yaml`) 和规则列表。
2.  **规则编译**: 将文本格式的规则列表 (`.list`) 自动编译为 SingBox 高效的二进制规则集 (`.srs`)。
3.  **配置生成**: 基于最新的规则集和模板，自动生成 SingBox 完整的 `config.json` 配置文件。
4.  **GeoIP 优化**: 自动处理 GeoIP 规则，适配 SingBox 的 `rule_set` 机制 (使用 `geoip-cn`)。

## 📂 仓库结构

- `config.json`: **最终产物**。完整的 SingBox 配置文件，可直接导入使用。
- `ruleset/*.srs`: **最终产物**。编译好的二进制规则集文件。
- `scripts/`: 构建脚本目录。
    - `update.py`: 从远程源下载最新的 yaml 配置和规则列表。
    - `compile.py`: 将下载的规则编译为 `.srs` 格式。
    - `generate_json.py`: 生成包含最新规则链接的 `config.json`。
- `.github/workflows/update_rules.yml`: GitHub Actions 自动化流程定义。

## 🚀 使用方法

### 作为订阅源 (推荐)

直接使用本仓库生成的 `config.json` 作为您的 SingBox 远程配置地址：

`https://raw.githubusercontent.com/GotKiCry/GotKiCry_ACL_Rule_SingBox/master/config.json`

### 手动触发更新

本仓库配置为每天自动运行。如果您需要立即更新规则：

1.  进入仓库的 "Actions" 页面。
2.  选择 "Update ACL Rules" 工作流。
3.  点击 "Run workflow" 按钮。

## ⚠️ 注意事项

*   本仓库的 `master` 分支可能会通过 `git push --force` 强制更新以保持提交历史整洁（只保留最新的构建状态）。建议不要基于此仓库的 `master` 分支进行二次开发。
*   规则源维护请前往：[GotKiCry/GotKiCry_ACL_Rule](https://github.com/GotKiCry/GotKiCry_ACL_Rule)

---
*Auto-generated by GitHub Actions*
